package source

import (
	"fmt"
	"net/http"
	"net/http/httptest"
	"testing"
	
	"github.com/pkg/errors"
)

func TestSource_FetchXML(t *testing.T) {
	ts := FakeServer()
	defer ts.Close()
	
	// Arrange
	s := New()
	
	// Act
	s.FetchXML(ts.URL)
	
	// Assert
	if s.Errs != nil || s.body == "" {
		s.Errs = append(s.Errs, errors.New("GG"))
		errStr := ""
		for i, v := range s.Errs {
			errStr = fmt.Sprintf("%serror %d - %v\n", errStr, i, v.Error())
		}
		t.Fatal(errStr)
	}
}

func TestSource_ParseXML(t *testing.T) {
	// Arrange
	s := New()
	s.body = xmlSample
	
	// Act
	s.ParseXML()
	
	// Assert
	if s.Result.OneminIncidentData.IncidentData[0].Incident.IncidentId != "20180917006386" {
		t.Fatal("data is incorrect")
	}
}

func FakeServer() *httptest.Server {
	return httptest.NewServer(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		fmt.Fprintln(w, xmlSample)
	}))
}

var xmlSample = `<?xml version="1.0"?>
<incident filename="1min_incident_data_1968.xml" version="1.0" time="2018-09-17 18:21:07"><onemin_incident_data><incident_data><incident inc_type_name="&#x5929;&#x5019;&#x4E8B;&#x4EF6;" inc_name="&#x6FC3;&#x9727;" inc_time="2018-09-17 18:14:57" incidentId="20180917006386" freewayId="1" expresswayId="" directionId="0" inc_location="&#x6CF0;&#x5B89;&#x670D;&#x52D9;&#x5340;-&#x4E09;&#x7FA9;" from_milepost="156790" to_milepost="152790" interchange="" inc_blockage="" inc_severity="0" inc_notify_time="2018-09-17 18:14:57" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;" inc_end_time="" inc_stepNo="9" inc_step_time="2018-09-17 18:14:57"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 17:23:00" incidentId="201809171723000001" freewayId="1" expresswayId="" directionId="1" inc_location="" from_milepost="18025" to_milepost="23590" interchange="" inc_blockage="0000000" inc_severity="3" inc_notify_time="2018-09-17 17:50:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;" inc_end_time="" inc_stepNo="6" inc_step_time="2018-09-17 17:50:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 18:09:00" incidentId="201809171809000001" freewayId="1" expresswayId="" directionId="1" inc_location="" from_milepost="23200" to_milepost="23200" interchange="" inc_blockage="0000000" inc_severity="2" inc_notify_time="2018-09-17 18:09:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;(&#x531D;&#x9053;)" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 18:09:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 18:08:00" incidentId="201809171808000001" freewayId="1" expresswayId="" directionId="1" inc_location="" from_milepost="23200" to_milepost="23200" interchange="" inc_blockage="0000000" inc_severity="2" inc_notify_time="2018-09-17 18:08:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;(&#x531D;&#x9053;)" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 18:08:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 16:00:00" incidentId="201809171600000001" freewayId="1" expresswayId="" directionId="1" inc_location="" from_milepost="23200" to_milepost="23200" interchange="" inc_blockage="0000000" inc_severity="2" inc_notify_time="2018-09-17 16:00:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;(&#x531D;&#x9053;)" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 16:00:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x4E8B;&#x6545;" inc_name="&#x4E8B;&#x6545;" inc_time="2018-09-17 18:15:00" incidentId="201809171815540020" freewayId="1" expresswayId="" directionId="1" inc_location="" from_milepost="64000" to_milepost="64000" interchange="" inc_blockage="00010000" inc_severity="1" inc_notify_time="2018-09-17 18:15:00" inc_notify_mode="&#x5C08;&#x7DDA;&#x96FB;&#x8A71;" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 18:15:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 17:09:00" incidentId="201809171709000001" freewayId="1" expresswayId="" directionId="1" inc_location="" from_milepost="83800" to_milepost="83800" interchange="" inc_blockage="0000000" inc_severity="2" inc_notify_time="2018-09-17 17:09:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;(&#x531D;&#x9053;)" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 17:09:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 17:08:00" incidentId="201809171708000001" freewayId="1" expresswayId="" directionId="1" inc_location="" from_milepost="83800" to_milepost="83800" interchange="" inc_blockage="0000000" inc_severity="2" inc_notify_time="2018-09-17 17:08:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;(&#x531D;&#x9053;)" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 17:08:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 17:57:00" incidentId="201809171757000001" freewayId="1" expresswayId="" directionId="1" inc_location="" from_milepost="86500" to_milepost="89030" interchange="" inc_blockage="0000000" inc_severity="3" inc_notify_time="2018-09-17 18:09:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;" inc_end_time="" inc_stepNo="2" inc_step_time="2018-09-17 18:09:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 17:47:00" incidentId="201809171747000001" freewayId="1" expresswayId="" directionId="1" inc_location="" from_milepost="95400" to_milepost="95400" interchange="" inc_blockage="0000000" inc_severity="2" inc_notify_time="2018-09-17 17:47:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;(&#x531D;&#x9053;)" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 17:47:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 17:35:00" incidentId="201809171735000001" freewayId="1" expresswayId="" directionId="1" inc_location="" from_milepost="95400" to_milepost="98320" interchange="" inc_blockage="0000000" inc_severity="3" inc_notify_time="2018-09-17 18:05:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;" inc_end_time="" inc_stepNo="4" inc_step_time="2018-09-17 18:05:00"/></incident_data><incident_data><incident inc_type_name="&#x4E00;&#x822C;&#x4E8B;&#x4EF6;" inc_name="&#x65BD;&#x5DE5;" inc_time="2018-09-17 08:30:41" incidentId="20180917000627" freewayId="1" expresswayId="" directionId="1" inc_location="&#x4E09;&#x7FA9;-&#x6CF0;&#x5B89;&#x670D;&#x52D9;&#x5340;" from_milepost="153600" to_milepost="155000" interchange="" inc_blockage="0010000000" inc_severity="&#x4F4E;" inc_notify_time="2018-09-17 08:30:41" inc_notify_mode="&#x65BD;&#x5DE5;&#x901A;&#x5831;" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 08:30:41"/></incident_data><incident_data><incident inc_type_name="&#x58C5;&#x585E;&#x4E8B;&#x4EF6;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 17:28:13" incidentId="20180917006418" freewayId="1" expresswayId="" directionId="1" inc_location="&#x8C50;&#x539F;-&#x5927;&#x96C5;" from_milepost="173250" to_milepost="173745" interchange="" inc_blockage="" inc_severity="0" inc_notify_time="2018-09-17 17:28:13" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 17:28:13"/></incident_data><incident_data><incident inc_type_name="&#x58C5;&#x585E;&#x4E8B;&#x4EF6;" inc_name="&#x51FA;&#x53E3;&#x531D;&#x9053;&#x58C5;&#x585E;" inc_time="2018-09-17 18:12:57" incidentId="3085563" freewayId="1" expresswayId="" directionId="1" inc_location="" from_milepost="319600" to_milepost="319600" interchange="" inc_blockage="" inc_severity="&#x58C5;&#x585E;&#x7A0B;&#x5EA6;" inc_notify_time="2018-09-17 18:15:56" inc_notify_mode="&#x4E8B;&#x4EF6;&#x81EA;&#x52D5;&#x5075;&#x6E2C;" inc_end_time="2018-09-17 18:12:57" inc_stepNo="2" inc_step_time="2018-09-17 18:12:57"/></incident_data><incident_data><incident inc_type_name="&#x58C5;&#x585E;&#x4E8B;&#x4EF6;" inc_name="&#x51FA;&#x53E3;&#x531D;&#x9053;&#x58C5;&#x585E;" inc_time="2018-09-17 18:11:56" incidentId="3085562" freewayId="1" expresswayId="" directionId="1" inc_location="" from_milepost="327400" to_milepost="327400" interchange="" inc_blockage="" inc_severity="&#x58C5;&#x585E;&#x7A0B;&#x5EA6;" inc_notify_time="2018-09-17 18:16:56" inc_notify_mode="&#x4E8B;&#x4EF6;&#x81EA;&#x52D5;&#x5075;&#x6E2C;" inc_end_time="2018-09-17 18:11:56" inc_stepNo="3" inc_step_time="2018-09-17 18:11:56"/></incident_data><incident_data><incident inc_type_name="&#x4E00;&#x822C;&#x4E8B;&#x4EF6;" inc_name="&#x4E8B;&#x6545;" inc_time="2018-09-17 17:58:34" incidentId="3085557" freewayId="1" expresswayId="" directionId="1" inc_location="" from_milepost="342200" to_milepost="342200" interchange="" inc_blockage="" inc_severity="&#x5F71;&#x97FF;&#x8ECA;&#x9053;" inc_notify_time="2018-09-17 17:58:34" inc_notify_mode="&#x624B;&#x6A5F;" inc_end_time="2018-09-17 17:58:34" inc_stepNo="0" inc_step_time="2018-09-17 17:58:34"/></incident_data><incident_data><incident inc_type_name="&#x58C5;&#x585E;&#x4E8B;&#x4EF6;" inc_name="&#x51FA;&#x53E3;&#x531D;&#x9053;&#x58C5;&#x585E;" inc_time="2018-09-17 18:09:56" incidentId="3085561" freewayId="1" expresswayId="" directionId="1" inc_location="" from_milepost="369600" to_milepost="369600" interchange="" inc_blockage="" inc_severity="&#x58C5;&#x585E;&#x7A0B;&#x5EA6;" inc_notify_time="2018-09-17 18:11:56" inc_notify_mode="&#x4E8B;&#x4EF6;&#x81EA;&#x52D5;&#x5075;&#x6E2C;" inc_end_time="2018-09-17 18:09:56" inc_stepNo="1" inc_step_time="2018-09-17 18:09:56"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 18:06:00" incidentId="201809171806010001" freewayId="1" expresswayId="" directionId="2" inc_location="" from_milepost="16800" to_milepost="15200" interchange="" inc_blockage="0000000" inc_severity="3" inc_notify_time="2018-09-17 18:09:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;" inc_end_time="" inc_stepNo="2" inc_step_time="2018-09-17 18:09:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 17:49:00" incidentId="201809171749020001" freewayId="1" expresswayId="" directionId="2" inc_location="" from_milepost="25100" to_milepost="25100" interchange="" inc_blockage="0000000" inc_severity="2" inc_notify_time="2018-09-17 17:49:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;(&#x531D;&#x9053;)" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 17:49:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 17:24:00" incidentId="201809171724020001" freewayId="1" expresswayId="" directionId="2" inc_location="" from_milepost="25100" to_milepost="25100" interchange="" inc_blockage="0000000" inc_severity="2" inc_notify_time="2018-09-17 17:24:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;(&#x531D;&#x9053;)" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 17:24:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 17:25:00" incidentId="201809171725000001" freewayId="1" expresswayId="" directionId="2" inc_location="" from_milepost="33100" to_milepost="33100" interchange="" inc_blockage="0000000" inc_severity="2" inc_notify_time="2018-09-17 17:25:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;(&#x531D;&#x9053;)" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 17:25:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 18:15:00" incidentId="201809171815000001" freewayId="1" expresswayId="" directionId="2" inc_location="" from_milepost="39800" to_milepost="37990" interchange="" inc_blockage="0000000" inc_severity="3" inc_notify_time="2018-09-17 18:15:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 18:15:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 16:54:00" incidentId="201809171654000001" freewayId="1" expresswayId="" directionId="2" inc_location="" from_milepost="83800" to_milepost="82400" interchange="" inc_blockage="0000000" inc_severity="3" inc_notify_time="2018-09-17 18:10:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;" inc_end_time="" inc_stepNo="3" inc_step_time="2018-09-17 18:10:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 18:12:00" incidentId="201809171812010001" freewayId="1" expresswayId="" directionId="2" inc_location="" from_milepost="91000" to_milepost="91000" interchange="" inc_blockage="0000000" inc_severity="2" inc_notify_time="2018-09-17 18:12:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;(&#x531D;&#x9053;)" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 18:12:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 18:05:00" incidentId="201809171805000001" freewayId="1" expresswayId="" directionId="2" inc_location="" from_milepost="93810" to_milepost="93245" interchange="" inc_blockage="0000000" inc_severity="3" inc_notify_time="2018-09-17 18:07:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;" inc_end_time="" inc_stepNo="3" inc_step_time="2018-09-17 18:07:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 18:07:00" incidentId="201809171807000001" freewayId="1" expresswayId="" directionId="2" inc_location="" from_milepost="95400" to_milepost="95400" interchange="" inc_blockage="0000000" inc_severity="2" inc_notify_time="2018-09-17 18:07:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;(&#x531D;&#x9053;)" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 18:07:00"/></incident_data><incident_data><incident inc_type_name="&#x4E00;&#x822C;&#x4E8B;&#x4EF6;" inc_name="&#x65BD;&#x5DE5;" inc_time="2018-09-17 07:59:18" incidentId="20180917000349" freewayId="1" expresswayId="" directionId="2" inc_location="&#x738B;&#x7530;-&#x5357;&#x5C6F;" from_milepost="185400" to_milepost="182100" interchange="" inc_blockage="1100000000" inc_severity="&#x4F4E;" inc_notify_time="2018-09-17 07:59:18" inc_notify_mode="&#x65BD;&#x5DE5;&#x901A;&#x5831;" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 07:59:18"/></incident_data><incident_data><incident inc_type_name="&#x58C5;&#x585E;&#x4E8B;&#x4EF6;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 18:12:13" incidentId="20180917001117" freewayId="1" expresswayId="" directionId="2" inc_location="&#x738B;&#x7530;-&#x5357;&#x5C6F;" from_milepost="186907" to_milepost="183245" interchange="" inc_blockage="" inc_severity="0" inc_notify_time="2018-09-17 18:12:13" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;" inc_end_time="" inc_stepNo="26" inc_step_time="2018-09-17 18:12:13"/></incident_data><incident_data><incident inc_type_name="&#x58C5;&#x585E;&#x4E8B;&#x4EF6;" inc_name="&#x51FA;&#x53E3;&#x531D;&#x9053;&#x58C5;&#x585E;" inc_time="2018-09-17 18:07:57" incidentId="3085560" freewayId="1" expresswayId="" directionId="2" inc_location="" from_milepost="356200" to_milepost="356200" interchange="" inc_blockage="" inc_severity="&#x58C5;&#x585E;&#x7A0B;&#x5EA6;" inc_notify_time="2018-09-17 18:16:56" inc_notify_mode="&#x4E8B;&#x4EF6;&#x81EA;&#x52D5;&#x5075;&#x6E2C;" inc_end_time="2018-09-17 18:07:57" inc_stepNo="5" inc_step_time="2018-09-17 18:07:57"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 17:33:00" incidentId="201809171733010001" freewayId="2" expresswayId="" directionId="3" inc_location="" from_milepost="9170" to_milepost="10380" interchange="" inc_blockage="0000000" inc_severity="3" inc_notify_time="2018-09-17 18:08:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;" inc_end_time="" inc_stepNo="4" inc_step_time="2018-09-17 18:08:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 18:11:00" incidentId="201809171811010001" freewayId="2" expresswayId="" directionId="3" inc_location="" from_milepost="18500" to_milepost="18500" interchange="" inc_blockage="0000000" inc_severity="2" inc_notify_time="2018-09-17 18:11:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;(&#x531D;&#x9053;)" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 18:11:00"/></incident_data><incident_data><incident inc_type_name="&#x65BD;&#x5DE5;&#x7DAD;&#x8B77;" inc_name="&#x65BD;&#x5DE5;" inc_time="2018-09-17 00:16:00" incidentId="201809170016530021" freewayId="3" expresswayId="" directionId="1" inc_location="" from_milepost="805" to_milepost="2060" interchange="" inc_blockage="00110000" inc_severity="2" inc_notify_time="2018-09-17 00:16:00" inc_notify_mode="&#x8A9E;&#x97F3;8562832" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 11:40:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 17:31:00" incidentId="201809171731010001" freewayId="3" expresswayId="" directionId="1" inc_location="" from_milepost="15900" to_milepost="16750" interchange="" inc_blockage="0000000" inc_severity="3" inc_notify_time="2018-09-17 18:11:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;" inc_end_time="" inc_stepNo="8" inc_step_time="2018-09-17 18:11:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 17:35:00" incidentId="201809171735010001" freewayId="3" expresswayId="" directionId="1" inc_location="" from_milepost="29515" to_milepost="33990" interchange="" inc_blockage="0000000" inc_severity="3" inc_notify_time="2018-09-17 18:11:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;" inc_end_time="" inc_stepNo="10" inc_step_time="2018-09-17 18:11:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 18:03:00" incidentId="201809171803010001" freewayId="3" expresswayId="" directionId="1" inc_location="" from_milepost="31100" to_milepost="31100" interchange="" inc_blockage="0000000" inc_severity="2" inc_notify_time="2018-09-17 18:03:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;(&#x531D;&#x9053;)" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 18:03:00"/></incident_data><incident_data><incident inc_type_name="&#x6563;&#x843D;&#x7269;" inc_name="&#x6563;&#x843D;&#x7269;" inc_time="2018-09-17 18:08:00" incidentId="201809171808190023" freewayId="3" expresswayId="" directionId="1" inc_location="" from_milepost="38300" to_milepost="38300" interchange="" inc_blockage="01000000" inc_severity="1" inc_notify_time="2018-09-17 18:08:00" inc_notify_mode="1968" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 18:08:00"/></incident_data><incident_data><incident inc_type_name="&#x4E00;&#x822C;&#x4E8B;&#x4EF6;" inc_name="&#x65BD;&#x5DE5;" inc_time="2018-05-30 18:02:33" incidentId="3029905" freewayId="3" expresswayId="" directionId="1" inc_location="" from_milepost="378795" to_milepost="378795" interchange="" inc_blockage=",&#x8DEF;" inc_severity="&#x5F71;&#x97FF;&#x8ECA;&#x9053;" inc_notify_time="2018-05-30 18:02:33" inc_notify_mode="&#x624B;&#x6A5F;" inc_end_time="2018-05-30 18:02:33" inc_stepNo="0" inc_step_time="2018-05-30 18:02:33"/></incident_data><incident_data><incident inc_type_name="&#x4E00;&#x822C;&#x4E8B;&#x4EF6;" inc_name="&#x6563;&#x843D;&#x7269;" inc_time="2018-09-17 17:40:43" incidentId="3085546" freewayId="3" expresswayId="" directionId="1" inc_location="" from_milepost="383000" to_milepost="383000" interchange="" inc_blockage="" inc_severity="&#x5F71;&#x97FF;&#x8ECA;&#x9053;" inc_notify_time="2018-09-17 17:40:43" inc_notify_mode="&#x624B;&#x6A5F;" inc_end_time="2018-09-17 17:40:43" inc_stepNo="0" inc_step_time="2018-09-17 17:40:43"/></incident_data><incident_data><incident inc_type_name="&#x4E00;&#x822C;&#x4E8B;&#x4EF6;" inc_name="&#x65BD;&#x5DE5;" inc_time="2018-09-17 07:37:24" incidentId="3085319" freewayId="3" expresswayId="" directionId="1" inc_location="" from_milepost="407800" to_milepost="408800" interchange="" inc_blockage="" inc_severity="&#x5F71;&#x97FF;&#x8ECA;&#x9053;" inc_notify_time="2018-09-17 07:37:24" inc_notify_mode="&#x624B;&#x6A5F;" inc_end_time="2018-09-17 07:37:24" inc_stepNo="0" inc_step_time="2018-09-17 07:37:24"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 18:05:00" incidentId="201809171805050001" freewayId="3" expresswayId="" directionId="2" inc_location="" from_milepost="12700" to_milepost="12700" interchange="" inc_blockage="0000000" inc_severity="2" inc_notify_time="2018-09-17 18:05:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;(&#x531D;&#x9053;)" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 18:05:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 18:05:00" incidentId="201809171805040001" freewayId="3" expresswayId="" directionId="2" inc_location="" from_milepost="12700" to_milepost="12700" interchange="" inc_blockage="0000000" inc_severity="2" inc_notify_time="2018-09-17 18:05:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;(&#x531D;&#x9053;)" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 18:05:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 18:08:00" incidentId="201809171808020001" freewayId="3" expresswayId="" directionId="2" inc_location="" from_milepost="31100" to_milepost="31100" interchange="" inc_blockage="0000000" inc_severity="2" inc_notify_time="2018-09-17 18:08:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;(&#x531D;&#x9053;)" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 18:08:00"/></incident_data><incident_data><incident inc_type_name="&#x4E00;&#x822C;&#x4E8B;&#x4EF6;" inc_name="&#x65BD;&#x5DE5;" inc_time="2018-09-17 08:22:30" incidentId="20180917000492" freewayId="3" expresswayId="" directionId="2" inc_location="&#x70CF;&#x65E5;-&#x5FEB;&#x5B98;" from_milepost="202333" to_milepost="200833" interchange="" inc_blockage="0010000000" inc_severity="&#x4F4E;" inc_notify_time="2018-09-17 08:22:30" inc_notify_mode="&#x65BD;&#x5DE5;&#x901A;&#x5831;" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 08:22:30"/></incident_data><incident_data><incident inc_type_name="&#x4E00;&#x822C;&#x4E8B;&#x4EF6;" inc_name="&#x65BD;&#x5DE5;" inc_time="2018-09-17 08:02:28" incidentId="20180917000368" freewayId="3" expresswayId="" directionId="2" inc_location="&#x8349;&#x5C6F;-&#x9727;&#x5CF0;&#x7CFB;&#x7D71;" from_milepost="217187" to_milepost="215687" interchange="" inc_blockage="1100000000" inc_severity="&#x4F4E;" inc_notify_time="2018-09-17 08:02:28" inc_notify_mode="&#x65BD;&#x5DE5;&#x901A;&#x5831;" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 08:02:28"/></incident_data><incident_data><incident inc_type_name="&#x4E00;&#x822C;&#x4E8B;&#x4EF6;" inc_name="&#x65BD;&#x5DE5;" inc_time="2018-05-07 14:03:39" incidentId="3019676" freewayId="3" expresswayId="" directionId="2" inc_location="" from_milepost="380655" to_milepost="380655" interchange="" inc_blockage="" inc_severity="&#x5F71;&#x97FF;&#x8ECA;&#x9053;" inc_notify_time="2018-08-24 14:16:19" inc_notify_mode="&#x624B;&#x6A5F;" inc_end_time="2018-05-07 14:03:39" inc_stepNo="4" inc_step_time="2018-05-07 14:03:39"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 04:46:00" incidentId="201809170446000001" freewayId="N3N" expresswayId="" directionId="1" inc_location="" from_milepost="150" to_milepost="150" interchange="" inc_blockage="0000000" inc_severity="2" inc_notify_time="2018-09-17 04:46:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 04:46:00"/></incident_data><incident_data><incident inc_type_name="&#x58C5;&#x585E;&#x4E8B;&#x4EF6;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 17:19:00" incidentId="3085534" freewayId="8" expresswayId="" directionId="4" inc_location="" from_milepost="5936" to_milepost="4972" interchange="" inc_blockage="" inc_severity="&#x58C5;&#x585E;&#x7A0B;&#x5EA6;" inc_notify_time="2018-09-17 17:33:58" inc_notify_mode="&#x4E8B;&#x4EF6;&#x81EA;&#x52D5;&#x5075;&#x6E2C;" inc_end_time="2018-09-17 17:19:00" inc_stepNo="1" inc_step_time="2018-09-17 17:19:00"/></incident_data><incident_data><incident inc_type_name="&#x58C5;&#x585E;&#x4E8B;&#x4EF6;" inc_name="&#x51FA;&#x53E3;&#x531D;&#x9053;&#x58C5;&#x585E;" inc_time="2018-09-17 18:14:55" incidentId="3085564" freewayId="10" expresswayId="" directionId="3" inc_location="" from_milepost="1900" to_milepost="1900" interchange="" inc_blockage="" inc_severity="&#x58C5;&#x585E;&#x7A0B;&#x5EA6;" inc_notify_time="2018-09-17 18:15:54" inc_notify_mode="&#x4E8B;&#x4EF6;&#x81EA;&#x52D5;&#x5075;&#x6E2C;" inc_end_time="2018-09-17 18:14:55" inc_stepNo="1" inc_step_time="2018-09-17 18:14:55"/></incident_data><incident_data><incident inc_type_name="&#x4E00;&#x822C;&#x4E8B;&#x4EF6;" inc_name="&#x65BD;&#x5DE5;" inc_time="2018-09-13 17:24:09" incidentId="3084174" freewayId="10" expresswayId="" directionId="3" inc_location="" from_milepost="18100" to_milepost="18600" interchange="" inc_blockage="" inc_severity="&#x5F71;&#x97FF;&#x8ECA;&#x9053;" inc_notify_time="2018-09-13 17:26:49" inc_notify_mode="&#x624B;&#x6A5F;" inc_end_time="2018-09-13 17:24:09" inc_stepNo="1" inc_step_time="2018-09-13 17:24:09"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 17:47:00" incidentId="201809171747010001" freewayId="" expresswayId="64" directionId="3" inc_location="" from_milepost="21230" to_milepost="22450" interchange="" inc_blockage="0000000" inc_severity="3" inc_notify_time="2018-09-17 17:47:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 17:47:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 18:03:00" incidentId="201809171803020001" freewayId="" expresswayId="64" directionId="3" inc_location="" from_milepost="27470" to_milepost="28668" interchange="" inc_blockage="0000000" inc_severity="3" inc_notify_time="2018-09-17 18:03:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 18:03:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 18:12:00" incidentId="201809171812020001" freewayId="" expresswayId="64" directionId="4" inc_location="" from_milepost="11820" to_milepost="11820" interchange="&#x4E94;&#x80A1;&#x4E8C;&#x897F;&#x5411;&#x51FA;&#x53E3;" inc_blockage="0000000" inc_severity="2" inc_notify_time="2018-09-17 18:12:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;(&#x531D;&#x9053;)" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 18:12:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 18:05:00" incidentId="201809171805060001" freewayId="" expresswayId="64" directionId="4" inc_location="" from_milepost="23750" to_milepost="22450" interchange="" inc_blockage="0000000" inc_severity="3" inc_notify_time="2018-09-17 18:05:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 18:05:00"/></incident_data><incident_data><incident inc_type_name="&#x65BD;&#x5DE5;&#x7DAD;&#x8B77;" inc_name="&#x65BD;&#x5DE5;" inc_time="2018-08-30 16:36:00" incidentId="201808301636320021" freewayId="" expresswayId="64" directionId="4" inc_location="" from_milepost="28400" to_milepost="23800" interchange="" inc_blockage="00100000" inc_severity="2" inc_notify_time="2018-09-17 17:09:00" inc_notify_mode="T64W&#x65B0;&#x5E97;&#x2192;&#x4E2D;&#x548C;&#x4E8C;" inc_end_time="" inc_stepNo="23" inc_step_time="2018-09-17 17:09:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 18:07:00" incidentId="201809171807040001" freewayId="" expresswayId="64" directionId="4" inc_location="" from_milepost="28668" to_milepost="27470" interchange="" inc_blockage="0000000" inc_severity="3" inc_notify_time="2018-09-17 18:07:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 18:07:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 17:31:00" incidentId="201809171731030001" freewayId="" expresswayId="66" directionId="3" inc_location="" from_milepost="19000" to_milepost="20165" interchange="" inc_blockage="0000000" inc_severity="3" inc_notify_time="2018-09-17 18:15:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;" inc_end_time="" inc_stepNo="8" inc_step_time="2018-09-17 18:15:00"/></incident_data><incident_data><incident inc_type_name="&#x4EA4;&#x901A;&#x58C5;&#x585E;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 18:12:00" incidentId="201809171812040001" freewayId="" expresswayId="68" directionId="3" inc_location="" from_milepost="23529" to_milepost="23529" interchange="&#x7AF9;&#x6771;&#x7AEF;&#x6771;&#x5411;&#x51FA;&#x53E3;" inc_blockage="0000000" inc_severity="2" inc_notify_time="2018-09-17 18:12:00" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;(&#x531D;&#x9053;)" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 18:12:00"/></incident_data><incident_data><incident inc_type_name="&#x4E00;&#x822C;&#x4E8B;&#x4EF6;" inc_name="&#x6563;&#x843D;&#x7269;" inc_time="2018-09-17 17:26:11" incidentId="20180917006414" freewayId="" expresswayId="74" directionId="3" inc_location="&#x6210;&#x529F;-&#x9AD8;&#x9435;&#x53F0;&#x4E2D;" from_milepost="3300" to_milepost="3300" interchange="" inc_blockage="0010000000" inc_severity="&#x4F4E;" inc_notify_time="2018-09-17 17:26:11" inc_notify_mode="1968#2&#x7528;&#x8DEF;&#x4EBA;" inc_end_time="" inc_stepNo="1" inc_step_time=""/></incident_data><incident_data><incident inc_type_name="&#x58C5;&#x585E;&#x4E8B;&#x4EF6;" inc_name="&#x51FA;&#x53E3;&#x531D;&#x9053;&#x58C5;&#x585E;" inc_time="2018-09-17 18:17:18" incidentId="20180917006557" freewayId="" expresswayId="74.1" directionId="4" inc_location="&#x725B;&#x57D4;-&#x53F0;14&#x4E19;&#x7ACB;&#x4EA4;&#x51FA;&#x53E3;" from_milepost="1210" to_milepost="1210" interchange="T74&#x7532;_1820" inc_blockage="" inc_severity="0" inc_notify_time="2018-09-17 18:17:18" inc_notify_mode="&#x5075;&#x6E2C;&#x5668;" inc_end_time="" inc_stepNo="1" inc_step_time="2018-09-17 18:17:18"/></incident_data><incident_data><incident inc_type_name="&#x58C5;&#x585E;&#x4E8B;&#x4EF6;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 07:29:59" incidentId="3085305" freewayId="" expresswayId="86" directionId="3" inc_location="" from_milepost="17802" to_milepost="18535" interchange="" inc_blockage="" inc_severity="&#x58C5;&#x585E;&#x7A0B;&#x5EA6;" inc_notify_time="2018-09-17 17:22:55" inc_notify_mode="&#x4E8B;&#x4EF6;&#x81EA;&#x52D5;&#x5075;&#x6E2C;" inc_end_time="2018-09-17 07:29:59" inc_stepNo="6" inc_step_time="2018-09-17 07:29:59"/></incident_data><incident_data><incident inc_type_name="&#x4E00;&#x822C;&#x4E8B;&#x4EF6;" inc_name="&#x65BD;&#x5DE5;" inc_time="2018-09-17 11:10:18" incidentId="3085444" freewayId="" expresswayId="86" directionId="4" inc_location="" from_milepost="15000" to_milepost="14000" interchange="" inc_blockage="" inc_severity="&#x5F71;&#x97FF;&#x8ECA;&#x9053;" inc_notify_time="2018-09-17 11:10:18" inc_notify_mode="&#x624B;&#x6A5F;" inc_end_time="2018-09-17 11:10:18" inc_stepNo="0" inc_step_time="2018-09-17 11:10:18"/></incident_data><incident_data><incident inc_type_name="&#x58C5;&#x585E;&#x4E8B;&#x4EF6;" inc_name="&#x58C5;&#x585E;" inc_time="2018-09-17 17:28:56" incidentId="3085539" freewayId="" expresswayId="86" directionId="4" inc_location="" from_milepost="18794" to_milepost="18424" interchange="" inc_blockage="" inc_severity="&#x58C5;&#x585E;&#x7A0B;&#x5EA6;" inc_notify_time="2018-09-17 18:12:56" inc_notify_mode="&#x4E8B;&#x4EF6;&#x81EA;&#x52D5;&#x5075;&#x6E2C;" inc_end_time="2018-09-17 17:28:56" inc_stepNo="5" inc_step_time="2018-09-17 17:28:56"/></incident_data><incident_data><incident inc_type_name="&#x58C5;&#x585E;&#x4E8B;&#x4EF6;" inc_name="&#x51FA;&#x53E3;&#x531D;&#x9053;&#x58C5;&#x585E;" inc_time="2018-09-17 15:20:56" incidentId="3085505" freewayId="" expresswayId="88" directionId="3" inc_location="" from_milepost="7025" to_milepost="7025" interchange="" inc_blockage="" inc_severity="&#x58C5;&#x585E;&#x7A0B;&#x5EA6;" inc_notify_time="2018-09-17 15:23:56" inc_notify_mode="&#x4E8B;&#x4EF6;&#x81EA;&#x52D5;&#x5075;&#x6E2C;" inc_end_time="2018-09-17 15:20:56" inc_stepNo="1" inc_step_time="2018-09-17 15:20:56"/></incident_data></onemin_incident_data></incident>
`
